### 컨테이너 객체

컨테이너는 \_\_contains\_\_ 메서드를 구현한 객체이다.  \_\_contains\_\_ 메서드는 일반적으로 Boolean값을 반환한다. 이 메서드는 in 키워드가 있을 때 호출된다.

```
element in container
# 위의 코드를 다음과 같이 해석한다.
container.__contains__(element)
```

이  \_\_contains\_\_ 메서드를 잘 사용하면 코드의 가독성이 정말 높아진다 -> 파이썬스로운 코드!

예를들어, 2차원 지도에서 특정 위치에 표시를 해야 한다고 생각해보자.

```
def mark_coordinate(grid, coord):
	if 0 <= coord.x < grid.width and 0 <= coord.y < grid.height:
		grid[coord] = MARKED
```

여기서 첫 if문은 난해하다. 코드의 의도가 불분명하고 매번 검사하기 위해 if문을 중복해서 호출한다.

지도에서 자체적으로 grid라 부르는 영역을 판단해주고 이 일을 더 작은 객체에 위임한다면 어떨까?

```
class Bounderies:
	def __init__(self, width, height):
		self.width = width
		self.height = height
	
	def __contains__(self, coord):
		x, y = coord
		return 0 <= x < self.width and 0 <= y < self.height
	
class Grid:
	def __init__(self, width, height):
		self.width = width
		self.height = height
		self.limit = Boundeeries(width, height)
	
	def __contains__(self, coord):
		return coord in self.limit
```

이제 정말 깔끔한 코드가 되었다. 두 객체 모두 최소한의 논리를 사용해 메서드는 짧고 응집력있다. 

```
def mark_coordinate(grid, coord):
	if coord in grid:
		grid[coord] = MARKED
```

정말 단순하고 명료해졌다.



### 객체의 동적인 속성

\_\_getattr\_\_매직 메서드를 이용해 객체에서 속성을 얻는 방법을 제어할 수 있다. ```객체.속성```을 호출하면 객체의 사전에서 속성을 찾아 \_\_getattribute\_\_를 호출한다. 객체에 찾고 있는 속성이 없는 경우 속성의 이름을 파라미터로 전달하여 \_\_getattr\_\_이라는 추가적인 메서드가 호출된다. 이 값을 사용해 반환 값을 제어할 수 있다.

```

```

